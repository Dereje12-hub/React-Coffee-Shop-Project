{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.suppressRemoteDebuggingErrorMiddleware = void 0;\n\nfunction suppressRemoteDebuggingErrorMiddleware(req, res, next) {\n  var _a;\n\n  if ((_a = req.url) === null || _a === void 0 ? void 0 : _a.match(/\\/debugger-ui\\/.+\\.map$/)) {\n    res.writeHead(404);\n    res.end('Sourcemap for /debugger-ui/ is not supported.');\n    return;\n  }\n\n  next();\n}\n\nexports.suppressRemoteDebuggingErrorMiddleware = suppressRemoteDebuggingErrorMiddleware;","map":{"version":3,"sources":["../../src/middleware/suppressErrorMiddleware.ts"],"names":[],"mappings":";;;;;;;AAKA,SAAgB,sCAAhB,CACE,GADF,EAEE,GAFF,EAGE,IAHF,EAG6B;;;AAE3B,MAAI,CAAA,EAAA,GAAA,GAAG,CAAC,GAAJ,MAAO,IAAP,IAAO,EAAA,KAAA,KAAA,CAAP,GAAO,KAAA,CAAP,GAAO,EAAA,CAAE,KAAF,CAAQ,yBAAR,CAAX,EAA+C;AAC7C,IAAA,GAAG,CAAC,SAAJ,CAAc,GAAd;AACA,IAAA,GAAG,CAAC,GAAJ,CAAQ,+CAAR;AACA;AACD;;AACD,EAAA,IAAI;AACL;;AAXD,OAAA,CAAA,sCAAA,GAAA,sCAAA","sourcesContent":["import type { IncomingMessage, ServerResponse } from 'http';\n\n// Middleware to suppress `EISDIR` error when opening javascript inspector in remote debugging.\n// A workaround for https://github.com/facebook/react-native/issues/28844\n// The root cause is that metro cannot serve sourcemap requests for /debugger-ui/\nexport function suppressRemoteDebuggingErrorMiddleware(\n  req: IncomingMessage,\n  res: ServerResponse,\n  next: (err?: Error) => void\n) {\n  if (req.url?.match(/\\/debugger-ui\\/.+\\.map$/)) {\n    res.writeHead(404);\n    res.end('Sourcemap for /debugger-ui/ is not supported.');\n    return;\n  }\n  next();\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}