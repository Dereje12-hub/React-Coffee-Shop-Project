{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getJsEngine = getJsEngine;\nexports.setJsEngine = setJsEngine;\nexports.withJsEnginePodfileProps = exports.DEFAULT_JS_ENGINE = exports.JS_ENGINE_PROP_KEY = void 0;\n\nfunction _iosPlugins() {\n  var data = require(\"../plugins/ios-plugins\");\n\n  _iosPlugins = function _iosPlugins() {\n    return data;\n  };\n\n  return data;\n}\n\nvar JS_ENGINE_PROP_KEY = 'expo.jsEngine';\nexports.JS_ENGINE_PROP_KEY = JS_ENGINE_PROP_KEY;\nvar DEFAULT_JS_ENGINE = 'jsc';\nexports.DEFAULT_JS_ENGINE = DEFAULT_JS_ENGINE;\n\nvar withJsEnginePodfileProps = function withJsEnginePodfileProps(config) {\n  return (0, _iosPlugins().withPodfileProperties)(config, function (config) {\n    config.modResults = setJsEngine(config, config.modResults);\n    return config;\n  });\n};\n\nexports.withJsEnginePodfileProps = withJsEnginePodfileProps;\n\nfunction getJsEngine(config) {\n  var _ref, _config$ios$jsEngine, _config$ios;\n\n  return (_ref = (_config$ios$jsEngine = (_config$ios = config.ios) === null || _config$ios === void 0 ? void 0 : _config$ios.jsEngine) !== null && _config$ios$jsEngine !== void 0 ? _config$ios$jsEngine : config.jsEngine) !== null && _ref !== void 0 ? _ref : DEFAULT_JS_ENGINE;\n}\n\nfunction setJsEngine(config, podfileProperties) {\n  var _ref2, _config$ios$jsEngine2, _config$ios2;\n\n  podfileProperties[JS_ENGINE_PROP_KEY] = (_ref2 = (_config$ios$jsEngine2 = (_config$ios2 = config.ios) === null || _config$ios2 === void 0 ? void 0 : _config$ios2.jsEngine) !== null && _config$ios$jsEngine2 !== void 0 ? _config$ios$jsEngine2 : config.jsEngine) !== null && _ref2 !== void 0 ? _ref2 : DEFAULT_JS_ENGINE;\n  return podfileProperties;\n}","map":{"version":3,"sources":["../../src/ios/JsEngine.ts"],"names":["JS_ENGINE_PROP_KEY","DEFAULT_JS_ENGINE","withJsEnginePodfileProps","config","setJsEngine","podfileProperties"],"mappings":";;;;;;;;;AAGA,SAAA,WAAA,GAAA;AAAA,MAAA,IAAA,GAAA,OAAA,0BAAA;;AAAA,EAAA,WAAA,GAAA,uBAAA;AAAA,WAAA,IAAA;AAAA,GAAA;;AAAA,SAAA,IAAA;AAAA;;AAEO,IAAMA,kBAAkB,GAAxB,eAAA;;AACA,IAAMC,iBAAiB,GAAvB,KAAA;;;AAEA,IAAMC,wBAAsC,GAAGC,SAAzCD,wBAAyCC,CAAAA,MAAM,EAAI;AAC9D,SAAO,CAAA,GAAA,WAAA,GAAA,qBAAA,EAAA,MAAA,EAA8BA,UAAAA,MAAM,EAAI;AAC7CA,IAAAA,MAAM,CAANA,UAAAA,GAAoBC,WAAW,CAAA,MAAA,EAASD,MAAM,CAA9CA,UAA+B,CAA/BA;AACA,WAAA,MAAA;AAFF,GAAO,CAAP;AADK,CAAA;;;;AAOA,SAAA,WAAA,CAAA,MAAA,EAAmE;AAAA,MAAA,IAAA,EAAA,oBAAA,EAAA,WAAA;;AACxE,SAAA,CAAA,IAAA,GAAA,CAAA,oBAAA,GAAA,CAAA,WAAA,GAAOA,MAAM,CAAb,GAAA,MAAA,IAAA,IAAA,WAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAOA,WAAAA,CAAP,QAAA,MAAA,IAAA,IAAA,oBAAA,KAAA,KAAA,CAAA,GAAA,oBAAA,GAA+BA,MAAM,CAArC,QAAA,MAAA,IAAA,IAAA,IAAA,KAAA,KAAA,CAAA,GAAA,IAAA,GAAA,iBAAA;AACD;;AAEM,SAAA,WAAA,CAAA,MAAA,EAAA,iBAAA,EAGmB;AAAA,MAAA,KAAA,EAAA,qBAAA,EAAA,YAAA;;AACxBE,EAAAA,iBAAiB,CAAjBA,kBAAiB,CAAjBA,GAAAA,CAAAA,KAAAA,GAAAA,CAAAA,qBAAAA,GAAAA,CAAAA,YAAAA,GACEF,MAAM,CADRE,GAAAA,MAAAA,IAAAA,IAAAA,YAAAA,KAAAA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GACEF,YAAAA,CADFE,QAAAA,MAAAA,IAAAA,IAAAA,qBAAAA,KAAAA,KAAAA,CAAAA,GAAAA,qBAAAA,GAC0BF,MAAM,CADhCE,QAAAA,MAAAA,IAAAA,IAAAA,KAAAA,KAAAA,KAAAA,CAAAA,GAAAA,KAAAA,GAAAA,iBAAAA;AAEA,SAAA,iBAAA;AACD","sourcesContent":["import type { ExpoConfig } from '@expo/config-types';\n\nimport type { ConfigPlugin } from '../Plugin.types';\nimport { withPodfileProperties } from '../plugins/ios-plugins';\n\nexport const JS_ENGINE_PROP_KEY = 'expo.jsEngine';\nexport const DEFAULT_JS_ENGINE = 'jsc';\n\nexport const withJsEnginePodfileProps: ConfigPlugin = config => {\n  return withPodfileProperties(config, config => {\n    config.modResults = setJsEngine(config, config.modResults);\n    return config;\n  });\n};\n\nexport function getJsEngine(config: Pick<ExpoConfig, 'ios' | 'jsEngine'>) {\n  return config.ios?.jsEngine ?? config.jsEngine ?? DEFAULT_JS_ENGINE;\n}\n\nexport function setJsEngine(\n  config: Pick<ExpoConfig, 'ios' | 'jsEngine'>,\n  podfileProperties: Record<string, string>\n): Record<string, string> {\n  podfileProperties[JS_ENGINE_PROP_KEY] =\n    config.ios?.jsEngine ?? config.jsEngine ?? DEFAULT_JS_ENGINE;\n  return podfileProperties;\n}\n"]},"metadata":{},"sourceType":"script"}