{"ast":null,"code":"\"use strict\";\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _assertThisInitialized = require(\"@babel/runtime/helpers/assertThisInitialized\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nvar _wrapNativeSuper = require(\"@babel/runtime/helpers/wrapNativeSuper\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SilentError = exports.AbortCommandError = exports.default = exports.ErrorCodes = void 0;\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar ERROR_PREFIX = 'Error: ';\nvar ErrorCodes = {\n  INVALID_PROJECT_DIR: 'INVALID_PROJECT_DIR',\n  INVALID_PROJECT_NAME: 'INVALID_PROJECT_NAME',\n  INVALID_PUBLIC_URL: 'INVALID_PUBLIC_URL',\n  NOT_LOGGED_IN: 'NOT_LOGGED_IN',\n  NON_INTERACTIVE: 'NON_INTERACTIVE',\n  ACCESS_TOKEN_ERROR: 'ACCESS_TOKEN_ERROR',\n  ROBOT_OWNER_ERROR: 'ROBOT_OWNER_ERROR',\n  BAD_CHOICE: 'BAD_CHOICE',\n  MISSING_PUBLIC_URL: 'MISSING_PUBLIC_URL',\n  APPLE_DIST_CERTS_TOO_MANY_GENERATED_ERROR: 'APPLE_DIST_CERTS_TOO_MANY_GENERATED_ERROR',\n  APPLE_PUSH_KEYS_TOO_MANY_GENERATED_ERROR: 'APPLE_PUSH_KEYS_TOO_MANY_GENERATED_ERROR',\n  MISSING_SLUG: 'MISSING_SLUG',\n  PROJECT_NOT_FOUND: 'PROJECT_NOT_FOUND'\n};\nexports.ErrorCodes = ErrorCodes;\n\nvar CommandError = function (_Error) {\n  _inherits(CommandError, _Error);\n\n  var _super = _createSuper(CommandError);\n\n  function CommandError(code) {\n    var _this;\n\n    var message = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n    _classCallCheck(this, CommandError);\n\n    _this = _super.call(this, '');\n\n    _defineProperty(_assertThisInitialized(_this), \"name\", 'CommandError');\n\n    _defineProperty(_assertThisInitialized(_this), \"isCommandError\", true);\n\n    _defineProperty(_assertThisInitialized(_this), \"code\", void 0);\n\n    if (message.startsWith(ERROR_PREFIX)) {\n      message = message.substring(ERROR_PREFIX.length);\n    }\n\n    _this.message = message || code;\n    _this.code = code;\n    return _this;\n  }\n\n  return _createClass(CommandError);\n}(_wrapNativeSuper(Error));\n\nexports.default = CommandError;\n\nvar AbortCommandError = function (_CommandError) {\n  _inherits(AbortCommandError, _CommandError);\n\n  var _super2 = _createSuper(AbortCommandError);\n\n  function AbortCommandError() {\n    _classCallCheck(this, AbortCommandError);\n\n    return _super2.call(this, 'ABORTED', 'Interactive prompt was cancelled.');\n  }\n\n  return _createClass(AbortCommandError);\n}(CommandError);\n\nexports.AbortCommandError = AbortCommandError;\n\nvar SilentError = function (_CommandError2) {\n  _inherits(SilentError, _CommandError2);\n\n  var _super3 = _createSuper(SilentError);\n\n  function SilentError(messageOrError) {\n    var _this2;\n\n    _classCallCheck(this, SilentError);\n\n    var _ref;\n\n    var message = (_ref = typeof messageOrError === 'string' ? messageOrError : messageOrError === null || messageOrError === void 0 ? void 0 : messageOrError.message) !== null && _ref !== void 0 ? _ref : 'This error should fail silently in the CLI';\n    _this2 = _super3.call(this, 'SILENT', message);\n\n    if (typeof messageOrError !== 'string') {\n      var _messageOrError$stack, _messageOrError$name;\n\n      _this2.stack = (_messageOrError$stack = messageOrError === null || messageOrError === void 0 ? void 0 : messageOrError.stack) !== null && _messageOrError$stack !== void 0 ? _messageOrError$stack : _this2.stack;\n      _this2.name = (_messageOrError$name = messageOrError === null || messageOrError === void 0 ? void 0 : messageOrError.name) !== null && _messageOrError$name !== void 0 ? _messageOrError$name : _this2.name;\n    }\n\n    return _this2;\n  }\n\n  return _createClass(SilentError);\n}(CommandError);\n\nexports.SilentError = SilentError;","map":{"version":3,"sources":["../src/CommandError.ts"],"names":["ERROR_PREFIX","ErrorCodes","INVALID_PROJECT_DIR","INVALID_PROJECT_NAME","INVALID_PUBLIC_URL","NOT_LOGGED_IN","NON_INTERACTIVE","ACCESS_TOKEN_ERROR","ROBOT_OWNER_ERROR","BAD_CHOICE","MISSING_PUBLIC_URL","APPLE_DIST_CERTS_TOO_MANY_GENERATED_ERROR","APPLE_PUSH_KEYS_TOO_MANY_GENERATED_ERROR","MISSING_SLUG","PROJECT_NOT_FOUND","constructor","message","messageOrError"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,YAAY,GAAlB,SAAA;AAEO,IAAMC,UAAU,GAAG;AACxBC,EAAAA,mBAAmB,EADK,qBAAA;AAExBC,EAAAA,oBAAoB,EAFI,sBAAA;AAGxBC,EAAAA,kBAAkB,EAHM,oBAAA;AAIxBC,EAAAA,aAAa,EAJW,eAAA;AAKxBC,EAAAA,eAAe,EALS,iBAAA;AAMxBC,EAAAA,kBAAkB,EANM,oBAAA;AAOxBC,EAAAA,iBAAiB,EAPO,mBAAA;AAQxBC,EAAAA,UAAU,EARc,YAAA;AASxBC,EAAAA,kBAAkB,EATM,oBAAA;AAUxBC,EAAAA,yCAAyC,EAVjB,2CAAA;AAWxBC,EAAAA,wCAAwC,EAXhB,0CAAA;AAYxBC,EAAAA,YAAY,EAZY,cAAA;AAaxBC,EAAAA,iBAAiB,EAAE;AAbK,CAAnB;;;IAqBQ,Y;;;;;AAKbC,wBAAW,IAAXA,EAAgD;AAAA;;AAAA,QAAtBC,OAAsB,uEAArC,EAAqC;;AAAA;;AAC9C,8BAD8C,EAC9C;;AAD8C,IAAA,eAAA,gCAAA,MAAA,EAJzC,cAIyC,CAAA;;AAAA,IAAA,eAAA,gCAAA,gBAAA,EAHtB,IAGsB,CAAA;;AAAA,IAAA,eAAA,gCAAA,MAAA,EAAA,KAAA,CAAA,CAAA;;AAI9C,QAAIA,OAAO,CAAPA,UAAAA,CAAJ,YAAIA,CAAJ,EAAsC;AACpCA,MAAAA,OAAO,GAAGA,OAAO,CAAPA,SAAAA,CAAkBhB,YAAY,CAAxCgB,MAAUA,CAAVA;AACD;;AAED,UAAA,OAAA,GAAeA,OAAO,IAAtB,IAAA;AACA,UAAA,IAAA,GAAA,IAAA;AAT8C;AAU/C;;;mBAfY,K;;;;IAiBR,iB;;;;;AACLD,+BAAc;AAAA;;AAAA,8BACZ,SADY,EACZ,mCADY;AAEb;;;EAHI,Y;;;;IASA,W;;;;;AACLA,uBAAW,cAAXA,EAA6C;AAAA;;AAAA;;AAAA,QAAA,IAAA;;AAC3C,QAAMC,OAAO,GAAA,CAAA,IAAA,GACV,OAAA,cAAA,KAAA,QAAA,GAAA,cAAA,GAAsDC,cAAtD,KAAA,IAAsDA,IAAAA,cAAtD,KAAA,KAAA,CAAsDA,GAAtD,KAAA,CAAsDA,GAAAA,cAAc,CAD1D,OAAA,MAAA,IAAA,IAAA,IAAA,KAAA,KAAA,CAAA,GAAA,IAAA,GAAb,4CAAA;AAGA,gCAAA,QAAA,EAAA,OAAA;;AACA,QAAI,OAAA,cAAA,KAAJ,QAAA,EAAwC;AAAA,UAAA,qBAAA,EAAA,oBAAA;;AAEtC,aAAA,KAAA,GAAA,CAAA,qBAAA,GAAaA,cAAb,KAAA,IAAaA,IAAAA,cAAb,KAAA,KAAA,CAAaA,GAAb,KAAA,CAAaA,GAAAA,cAAc,CAA3B,KAAA,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,qBAAA,GAAsC,OAAtC,KAAA;AACA,aAAA,IAAA,GAAA,CAAA,oBAAA,GAAYA,cAAZ,KAAA,IAAYA,IAAAA,cAAZ,KAAA,KAAA,CAAYA,GAAZ,KAAA,CAAYA,GAAAA,cAAc,CAA1B,IAAA,MAAA,IAAA,IAAA,oBAAA,KAAA,KAAA,CAAA,GAAA,oBAAA,GAAoC,OAApC,IAAA;AACD;;AAT0C;AAU5C;;;EAXI,Y","sourcesContent":["const ERROR_PREFIX = 'Error: ';\n\nexport const ErrorCodes = {\n  INVALID_PROJECT_DIR: 'INVALID_PROJECT_DIR',\n  INVALID_PROJECT_NAME: 'INVALID_PROJECT_NAME',\n  INVALID_PUBLIC_URL: 'INVALID_PUBLIC_URL',\n  NOT_LOGGED_IN: 'NOT_LOGGED_IN',\n  NON_INTERACTIVE: 'NON_INTERACTIVE',\n  ACCESS_TOKEN_ERROR: 'ACCESS_TOKEN_ERROR',\n  ROBOT_OWNER_ERROR: 'ROBOT_OWNER_ERROR',\n  BAD_CHOICE: 'BAD_CHOICE',\n  MISSING_PUBLIC_URL: 'MISSING_PUBLIC_URL',\n  APPLE_DIST_CERTS_TOO_MANY_GENERATED_ERROR: 'APPLE_DIST_CERTS_TOO_MANY_GENERATED_ERROR',\n  APPLE_PUSH_KEYS_TOO_MANY_GENERATED_ERROR: 'APPLE_PUSH_KEYS_TOO_MANY_GENERATED_ERROR',\n  MISSING_SLUG: 'MISSING_SLUG',\n  PROJECT_NOT_FOUND: 'PROJECT_NOT_FOUND',\n};\n\nexport type ErrorCode = keyof typeof ErrorCodes;\n\n/**\n * General error, formatted as a message in red text when caught by expo-cli (no stack trace is printed). Should be used in favor of `log.error()` in most cases.\n */\nexport default class CommandError extends Error {\n  name = 'CommandError';\n  readonly isCommandError = true;\n  code: string;\n\n  constructor(code: string, message: string = '') {\n    super('');\n    // If e.toString() was called to get `message` we don't want it to look\n    // like \"Error: Error:\".\n    if (message.startsWith(ERROR_PREFIX)) {\n      message = message.substring(ERROR_PREFIX.length);\n    }\n\n    this.message = message || code;\n    this.code = code;\n  }\n}\nexport class AbortCommandError extends CommandError {\n  constructor() {\n    super('ABORTED', 'Interactive prompt was cancelled.');\n  }\n}\n\n/**\n * Used to end a CLI process without printing a stack trace in the Expo CLI. Should be used in favor of `process.exit`.\n */\nexport class SilentError extends CommandError {\n  constructor(messageOrError?: string | Error) {\n    const message =\n      (typeof messageOrError === 'string' ? messageOrError : messageOrError?.message) ??\n      'This error should fail silently in the CLI';\n    super('SILENT', message);\n    if (typeof messageOrError !== 'string') {\n      // forward the props of the incoming error for tests or processes outside of expo-cli that use expo cli internals.\n      this.stack = messageOrError?.stack ?? this.stack;\n      this.name = messageOrError?.name ?? this.name;\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"script"}